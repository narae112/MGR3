<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/default}">
<head>
    <title>주문 목록</title>
    <!-- 부트스트랩 CDN 링크 추가 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div layout:fragment="content" class="content-mg">
    <h1>주문 목록</h1>

    <!-- 주문 목록 출력 -->
    <div th:if="${paging.empty}">
        <p>주문이 없습니다.</p>
    </div>
    <div th:if="${not paging.empty}">
        <ul>
            <!-- 주문 목록 순회 -->
            <li th:each="orderListDto : ${paging.content}">
                <p th:text="${orderListDto.orderId}"></p>
                <p th:text="${orderListDto.orderNum}"></p>
                <p th:text="${orderListDto.orderDate}"></p>
                <!-- 할인율 출력 -->
                <p th:text="${orderListDto.discountRate}"></p>
                <!-- 티켓 목록 출력 -->
                <ul>
                    <li th:each="orderTicketDto : ${orderListDto.orderTickets}">
                        <!-- 티켓 정보 출력 -->
                        <p th:text="${orderTicketDto.name}"></p>
                        <!-- 추가 필요한 티켓 정보 출력 -->
                    </li>
                </ul>
            </li>
        </ul>

        <!-- 이전 버튼 -->
        <div th:if="${paging.hasPrevious()}">
            <!-- 부트스트랩 클래스 적용 -->
            <a th:href="@{'/member/orderList/' + ${paging.number - 1}}"
               class="btn btn-primary">이전</a>
        </div>

        <!-- 다음 버튼 -->
        <div th:if="${paging.hasNext()}">
            <!-- 부트스트랩 클래스 적용 -->
            <a th:href="@{'/member/orderList/' + ${paging.number + 1}}"
               class="btn btn-primary">다음</a>
        </div>

        <!-- 페이징 정보 출력 -->
        <div>
            <span>총 페이지 수: <span th:text="${paging.totalPages}"></span></span>
            <span>현재 페이지: <span th:text="${paging.number + 1}"></span></span>
            <span>총 항목 수: <span th:text="${paging.totalElements}"></span></span>
        </div>
    </div>
</div>
</body>
</html>
